<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>VerifyEd | Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Inter',sans-serif}

/* ===== BACKGROUND ===== */
body{
min-height:100vh;
background:
radial-gradient(circle at 20% 20%, rgba(0,198,255,0.15), transparent 40%),
radial-gradient(circle at 80% 80%, rgba(0,114,255,0.15), transparent 40%),
linear-gradient(135deg,#070b14,#0d1220,#11172a);
color:#fff;
padding:30px;
}

/* ===== HEADER ===== */
.header{
display:flex;
flex-direction:column;
align-items:center;
margin-bottom:40px;
position:relative;
}

.header h1{
font-size:48px;
font-weight:800;
letter-spacing:-1px;
}
.header h1 span{
background:linear-gradient(135deg,#00e0ff,#0072ff);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
}

.header p{
margin-top:8px;
font-size:18px;
color:#b6e9ff;
opacity:.9;
}

/* Logout Button */
.header .logout{
position:absolute;
top:20px;
right:20px;
background:#ff4d4d;
padding:8px 14px;
border-radius:8px;
color:#fff;
text-decoration:none;
font-weight:700;
}

/* Profile Button */
.header .profile-btn{
position:absolute;
top:20px;
right:120px;
background:#00e0ff;
padding:8px 14px;
border-radius:8px;
color:#000;
text-decoration:none;
font-weight:700;
}

/* ===== GLASS CARD ===== */
.glass{
background:rgba(255,255,255,0.08);
backdrop-filter:blur(30px);
border:1px solid rgba(255,255,255,0.18);
border-radius:28px;
padding:32px;
box-shadow:
0 40px 90px rgba(0,0,0,.85),
inset 0 0 0 rgba(255,255,255,0.2);
margin-bottom:30px;
}

/* ===== PROFILE ===== */
.profile{
display:flex;
justify-content:space-between;
align-items:center;
flex-wrap:wrap;
gap:20px;
}

.profile h2{
font-size:32px;
font-weight:700;
}

.profile p{
margin-top:6px;
color:#c9eaff;
font-size:16px;
}

/* ===== STATS ===== */
.stats{
display:flex;
gap:20px;
flex-wrap:wrap;
}

.stat{
min-width:160px;
padding:18px 22px;
border-radius:20px;
background:linear-gradient(135deg,rgba(0,198,255,.2),rgba(0,114,255,.2));
border:1px solid rgba(0,198,255,.4);
box-shadow:0 12px 35px rgba(0,0,0,.5);
}

.stat h3{
font-size:26px;
font-weight:700;
}

.stat span{
font-size:13px;
opacity:.85;
}

/* ===== SECTION TITLE ===== */
.section-title{
font-size:28px;
font-weight:700;
margin-bottom:20px;
display:flex;
align-items:center;
gap:10px;
}

.section-title::before{
content:"";
width:8px;
height:28px;
border-radius:4px;
background:linear-gradient(180deg,#00e0ff,#0072ff);
}

/* ===== TABLE ===== */
.table-wrapper{
overflow-x:auto;
margin-top:10px;
}

table{
width:100%;
border-collapse:separate;
border-spacing:0 14px;
}

thead th{
padding:14px;
text-transform:uppercase;
font-size:12px;
letter-spacing:1px;
color:#8fdcff;
opacity:.8;
}

tbody tr{
background:linear-gradient(135deg,rgba(255,255,255,.08),rgba(255,255,255,.04));
border-radius:18px;
transition:.35s;
}

tbody tr:hover{
transform:translateY(-4px) scale(1.01);
background:linear-gradient(135deg,rgba(0,198,255,.25),rgba(0,114,255,.15));
box-shadow:0 25px 60px rgba(0,0,0,.7);
}

tbody td{
padding:16px;
font-size:15px;
color:#eaf8ff;
}

tbody tr td:first-child{border-radius:18px 0 0 18px}
tbody tr td:last-child{border-radius:0 18px 18px 0}

/* ===== MATCH SCORE ===== */
.score{
padding:8px 14px;
border-radius:14px;
font-weight:700;
font-size:14px;
background:linear-gradient(135deg,#00e0ff,#0072ff);
color:#000;
box-shadow:0 6px 18px rgba(0,0,0,.4);
}

/* ===== FILTERS ===== */
.filters{
margin-bottom:20px;
display:flex;
gap:15px;
flex-wrap:wrap;
}

.filters select{
padding:6px 10px;
border-radius:8px;
border:none;
font-weight:700;
}

/* ===== EMPTY STATE ===== */
.empty{
text-align:center;
padding:40px;
font-size:18px;
color:#b6e9ff;
opacity:.9;
}

/* ===== FOOTER ===== */
footer{
margin-top:40px;
text-align:center;
font-size:14px;
opacity:.65;
}
footer span{color:#00e0ff}

/* ===== RESPONSIVE ===== */
@media(max-width:768px){
.profile{flex-direction:column;align-items:flex-start}
.header h1{font-size:38px}
.header .logout, .header .profile-btn{position:static;margin-top:10px;}
}
</style>
</head>

<body>

<!-- HEADER -->
<div class="header">
<h1><span>Verify</span>Ed Dashboard</h1>
<p>Your personalized academic & career intelligence hub</p>

<a href="/logout" class="logout">Logout</a>
<a href="/profile/{{ student.student_id }}" class="profile-btn">Edit Profile</a>
</div>

<!-- PROFILE CARD -->
<div class="glass profile">
<div>
<h2>Welcome, {{ student.name }}</h2>
<p>
Branch: <strong>{{ student.branch }}</strong> &nbsp;|&nbsp;
Degree: <strong>{{ student.degree }}</strong> &nbsp;|&nbsp;
Year: <strong>{{ student.year }}</strong>
</p>
</div>

<div class="stats">
<div class="stat">
<h3>{{ opportunities|length }}</h3>
<span>Matched Opportunities</span>
</div>
<div class="stat">
<h3>AI</h3>
<span>Powered Matching</span>
</div>
</div>
</div>

<!-- FILTERS -->
<div class="glass">
<h3 class="section-title">Filters</h3>
<div class="filters">
    <select id="typeFilter">
        <option value="All">All Types</option>
        <option value="Hackathon">Hackathon</option>
        <option value="Conference">Conference</option>
    </select>

    <select id="domainFilter">
        <option value="All">All Domains</option>
        {% for domain in all_domains %}
            <option value="{{ domain }}">{{ domain }}</option>
        {% endfor %}
    </select>

    <select id="deadlineFilter">
        <option value="All">All Deadlines</option>
        <option value="Upcoming">Upcoming</option>
    </select>
</div>
</div>

<!-- OPPORTUNITIES TABLE -->
<div class="glass">
<h3 class="section-title">Matched Opportunities</h3>

{% if opportunities %}
<div class="table-wrapper">
<table>
<thead>
<tr>
<th>Title</th>
<th>Type</th>
<th>Organizer</th>
<th>Platform</th>
<th>Domains</th>
<th>Deadline</th>
<th>Link</th>
<th>Match</th>
</tr>
</thead>
<tbody>
{% for opp in opportunities %}
<tr>
<td>{{ opp.title }}</td>
<td>{{ opp.type }}</td>
<td>{{ opp.organizer }}</td>
<td>{{ opp.platform }}</td>
<td>{{ opp.domains }}</td>
<td>{{ opp.deadline or "N/A" }}</td>
<td>
{% if opp.link %}
<a href="{{ opp.link }}" target="_blank" style="color:#00e0ff; text-decoration:underline;">Register</a>
{% else %}
N/A
{% endif %}
</td>
<td><span class="score">{{ opp.match_score }}%</span></td>
</tr>
{% endfor %}
</tbody>
</table>
</div>
{% else %}
<div class="empty">
ðŸš€ No opportunities yet â€” update your skills to unlock more matches!
</div>
{% endif %}
</div>

<footer>
Â© 2026 <span>VerifyEd</span>. Designed for ambitious students.
</footer>

<!-- FILTER SCRIPT -->
<script>
const typeFilter = document.getElementById('typeFilter');
const domainFilter = document.getElementById('domainFilter');
const deadlineFilter = document.getElementById('deadlineFilter');

[typeFilter, domainFilter, deadlineFilter].forEach(filter => {
    filter.addEventListener('change', filterTable);
});

function filterTable() {
    const typeValue = typeFilter.value;
    const domainValue = domainFilter.value;
    const deadlineValue = deadlineFilter.value;

    const rows = document.querySelectorAll('table tbody tr');

    rows.forEach(row => {
        const type = row.cells[1].textContent.trim();
        const domains = row.cells[4].textContent.trim();
        const deadline = row.cells[5].textContent.trim();

        let show = true;

        if (typeValue !== 'All' && type !== typeValue) show = false;
        if (domainValue !== 'All' && !domains.includes(domainValue)) show = false;

        if (deadlineValue === 'Upcoming') {
            if (deadline === 'N/A') {
                show = false;
            } else {
                const today = new Date();
                const d = new Date(deadline);
                if (d < today) show = false;
            }
        }

        row.style.display = show ? '' : 'none';
    });
}
</script>

</body>
</html>